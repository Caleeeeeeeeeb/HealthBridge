{% extends 'healthbridge_app/base.html' %}
{% load static %}

{% block title %}My Profile • HealthBridge{% endblock %}
{% block nav_profile_active %}is-active{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'profile/profile.css' %}">

<div class="profile-container">
  <div class="profile-header">
    <div class="profile-avatar">
      {{ user.first_name.0|upper }}{{ user.last_name.0|upper }}
    </div>
    <h1>{{ user.first_name }} {{ user.last_name }}</h1>
    <p>{{ user.email }}</p>
  </div>

  <div class="profile-content">
    <!-- Personal Information -->
    <div class="profile-card">
      <h2>
        <span>👤</span>
        Personal Information
      </h2>
      
      <div class="profile-info-row">
        <span class="profile-info-label">First Name</span>
        <span class="profile-info-value">{{ user.first_name }}</span>
      </div>
      
      <div class="profile-info-row">
        <span class="profile-info-label">Last Name</span>
        <span class="profile-info-value">{{ user.last_name }}</span>
      </div>
      
      <div class="profile-info-row">
        <span class="profile-info-label">Email</span>
        <span class="profile-info-value">{{ user.email }}</span>
      </div>
      
      <div class="profile-info-row">
        <span class="profile-info-label">Member Since</span>
        <span class="profile-info-value">{{ user.date_joined|date:"M d, Y" }}</span>
      </div>

      <div class="profile-actions">
        <a href="{% url 'profile:edit_profile' %}" class="btn-edit">
          ✏️ Edit Profile
        </a>
          <a href="{% url 'profile:password_change' %}" class="btn-edit">🔒 Change Password</a>
      </div>
    </div>

    <!-- Statistics -->
    <div class="profile-card">
      <h2>
        <span>📊</span>
        My Activity
      </h2>
      
      <div class="stats-grid">
        <div class="stat-box">
          <div class="stat-number">{{ donations_count }}</div>
          <div class="stat-label">Donations</div>
        </div>
        
        <div class="stat-box">
          <div class="stat-number">{{ requests_count }}</div>
          <div class="stat-label">Requests</div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
